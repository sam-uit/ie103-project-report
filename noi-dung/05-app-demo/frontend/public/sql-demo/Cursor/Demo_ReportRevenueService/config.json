{
      "id": "cur-report-revenue-service",
      "title": "Cursor 2: B√°o C√°o Doanh Thu D·ªãch V·ª•",
      "type": "Cursor",
      "shortDesc": "Cursor t√≠nh to√°n doanh thu t·ª´ c√°c d·ªãch v·ª• theo t·ª´ng lo·∫°i",
      "mdFile": "Cursor/Demo_ReportRevenueService/problem.html",
      "sqlFile": "Cursor/Demo_ReportRevenueService/cs_ReportRevenueService.sql",
      "separateTables": [
            {
                  "name": "REPORT",
                  "label": "üìä B√°o C√°o Doanh Thu",
                  "sqlBefore": "SELECT dv.id, dv.ten_dich_vu, COUNT(ct.id) as so_lan_su_dung, SUM(ct.so_luong * ct.don_gia) as tong_doanh_thu FROM DICHVU dv LEFT JOIN CT_SUDUNG_DV ct ON ct.dichvu_id = dv.id GROUP BY dv.id, dv.ten_dich_vu",
                  "sqlAfter": "SELECT dv.id, dv.ten_dich_vu, COUNT(ct.id) as so_lan_su_dung, SUM(ct.so_luong * ct.don_gia) as tong_doanh_thu FROM DICHVU dv LEFT JOIN CT_SUDUNG_DV ct ON ct.dichvu_id = dv.id GROUP BY dv.id, dv.ten_dich_vu",
                  "sqlFetchInitial": "SELECT dv.id, dv.ten_dich_vu, COUNT(ct.id) as so_lan_su_dung, SUM(ct.so_luong * ct.don_gia) as tong_doanh_thu FROM DICHVU dv LEFT JOIN CT_SUDUNG_DV ct ON ct.dichvu_id = dv.id GROUP BY dv.id, dv.ten_dich_vu",
                  "columns": [
                        {
                              "key": "id",
                              "label": "D·ªãch V·ª• ID",
                              "isPk": true
                        },
                        {
                              "key": "ten_dich_vu",
                              "label": "T√™n D·ªãch V·ª•"
                        },
                        {
                              "key": "so_lan_su_dung",
                              "label": "S·ªë L·∫ßn S·ª≠ D·ª•ng"
                        },
                        {
                              "key": "tong_doanh_thu",
                              "label": "T·ªïng Doanh Thu"
                        }
                  ]
            },
            {
                  "name": "DICHVU",
                  "label": "üì¶ B·∫£ng D·ªãch V·ª•",
                  "sqlBefore": "SELECT id, ten_dich_vu, don_gia FROM DICHVU",
                  "sqlAfter": "SELECT id, ten_dich_vu, don_gia FROM DICHVU",
                  "sqlFetchInitial": "SELECT TOP 20 id, ten_dich_vu, don_gia FROM DICHVU",
                  "columns": [
                        {
                              "key": "id",
                              "label": "ID",
                              "isPk": true
                        },
                        {
                              "key": "ten_dich_vu",
                              "label": "T√™n D·ªãch V·ª•"
                        },
                        {
                              "key": "don_gia",
                              "label": "ƒê∆°n Gi√°"
                        }
                  ]
            },
            {
                  "name": "CT_SUDUNG_DV",
                  "label": "üõéÔ∏è Chi Ti·∫øt S·ª≠ D·ª•ng",
                  "sqlBefore": "SELECT id, dich_vu_id, so_luong, don_gia FROM CT_SUDUNG_DV",
                  "sqlAfter": "SELECT id, dich_vu_id, so_luong, don_gia FROM CT_SUDUNG_DV",
                  "sqlFetchInitial": "SELECT TOP 20 id, dich_vu_id, so_luong, don_gia FROM CT_SUDUNG_DV ORDER BY created_at DESC",
                  "columns": [
                        {
                              "key": "id",
                              "label": "ID",
                              "isPk": true
                        },
                        {
                              "key": "dich_vu_id",
                              "label": "D·ªãch V·ª• ID"
                        },
                        {
                              "key": "so_luong",
                              "label": "S·ªë L∆∞·ª£ng"
                        },
                        {
                              "key": "don_gia",
                              "label": "ƒê∆°n Gi√°"
                        }
                  ]
            }
      ],
      "params": [],
      "mockData": {
            "before": [],
            "after": []
      }
}