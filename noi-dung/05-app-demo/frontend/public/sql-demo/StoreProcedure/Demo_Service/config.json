{
      "id": "sp-service-usage",
      "title": "SP 4: S·ª≠ D·ª•ng D·ªãch V·ª•",
      "type": "Stored Procedure",
      "shortDesc": "Stored Procedure ƒë·ªÉ th√™m d·ªãch v·ª• cho booking",
      "mdFile": "StoreProcedure/Demo_Service/problem.html",
      "sqlFile": "StoreProcedure/Demo_Service/sp_Service.sql",
      "separateTables": [
            {
                  "name": "CT_SUDUNG_DV",
                  "label": "üõéÔ∏è S·ª≠ D·ª•ng D·ªãch V·ª•",
                  "sqlBefore": "SELECT ct.id, ct.datphong_id AS booking_id, ct.dichvu_id AS dich_vu_id, dv.ten_dich_vu, ct.so_luong, ct.don_gia FROM CT_SUDUNG_DV ct LEFT JOIN DICHVU dv ON dv.id = ct.dichvu_id WHERE ct.datphong_id = @DatPhongId",
                  "sqlAfter": "SELECT ct.id, ct.datphong_id AS booking_id, ct.dichvu_id AS dich_vu_id, dv.ten_dich_vu, ct.so_luong, ct.don_gia FROM CT_SUDUNG_DV ct LEFT JOIN DICHVU dv ON dv.id = ct.dichvu_id WHERE ct.datphong_id = @DatPhongId",
                  "sqlFetchInitial": "SELECT TOP 20 ct.id, ct.datphong_id AS booking_id, ct.dichvu_id AS dich_vu_id, ct.so_luong, ct.don_gia FROM CT_SUDUNG_DV ct ORDER BY ct.created_at DESC",
                  "columns": [
                        {
                              "key": "id",
                              "label": "ID",
                              "isPk": true
                        },
                        {
                              "key": "booking_id",
                              "label": "Booking ID"
                        },
                        {
                              "key": "dich_vu_id",
                              "label": "D·ªãch V·ª• ID"
                        },
                        {
                              "key": "ten_dich_vu",
                              "label": "T√™n DV"
                        },
                        {
                              "key": "so_luong",
                              "label": "‚ö° S·ªë L∆∞·ª£ng"
                        },
                        {
                              "key": "don_gia",
                              "label": "ƒê∆°n Gi√°"
                        }
                  ]
            }
      ],
      "params": [
            {
                  "name": "@DatPhongId",
                  "type": "int",
                  "defaultValue": 2
            },
            {
                  "name": "@DichVuId",
                  "type": "int",
                  "defaultValue": 1
            },
            {
                  "name": "@SoLuong",
                  "type": "int",
                  "defaultValue": 1
            },
            {
                  "name": "@GhiChu",
                  "type": "string",
                  "defaultValue": "Kh√°ch y√™u c·∫ßu th√™m"
            },
            {
                  "name": "@ServiceUsageId",
                  "type": "int",
                  "defaultValue": 0
            }
      ],
      "mockData": {
            "before": [],
            "after": [
                  {
                        "id": 1,
                        "booking_id": 1,
                        "dich_vu_id": 1,
                        "so_luong": 2,
                        "don_gia": 50000
                  }
            ]
      }
}