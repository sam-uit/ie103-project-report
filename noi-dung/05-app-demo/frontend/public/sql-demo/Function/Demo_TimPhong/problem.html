<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: 'Inter', -apple-system, sans-serif; line-height: 1.7; color: #1e293b; background: #fff; margin: 0; padding: 0; }
        h1 { font-size: 1.875rem; font-weight: 700; color: #059669; margin: 0 0 1.5rem 0; padding-bottom: 0.75rem; border-bottom: 2px solid #10b981; }
        h2 { font-size: 1.5rem; font-weight: 600; color: #0f172a; margin: 2rem 0 1rem 0; }
        h3 { font-size: 1.125rem; font-weight: 600; color: #334155; margin: 1.5rem 0 0.75rem 0; }
        p { margin: 0.75rem 0; color: #475569; }
        ul { margin: 0.75rem 0; padding-left: 1.5rem; }
        li { margin: 0.375rem 0; color: #475569; }
        table { width: 100%; border-collapse: collapse; margin: 1.25rem 0; font-size: 0.9375rem; background: #fff; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08); border-radius: 0.5rem; overflow: hidden; }
        th { background-color: #6ee7b7; padding: 0.875rem 1rem; text-align: left; font-weight: 600; color: #064e3b; border-bottom: 2px solid #34d399; }
        td { padding: 0.75rem 1rem; color: #334155; border-bottom: 1px solid #e2e8f0; }
        tbody tr:hover { background-color: #ecfdf5; }
        code { font-family: 'Fira Code', monospace; font-size: 0.875rem; background-color: #ecfdf5; color: #059669; padding: 0.125rem 0.375rem; border-radius: 0.25rem; }
        pre { background-color: #1e293b; color: #e2e8f0; padding: 1.25rem; border-radius: 0.5rem; overflow-x: auto; margin: 1.25rem 0; }
        pre code { background: none; color: inherit; padding: 0; }
        .flow-step { background-color: #ecfdf5; border-left: 3px solid #10b981; padding: 0.875rem 1rem; margin: 0.5rem 0; border-radius: 0.25rem; color: #334155; }
        hr { border: none; border-top: 1px solid #e2e8f0; margin: 2rem 0; }
    </style>
</head>
<body>
    <h1>üè® FUNCTION ‚Äì T√¨m Ph√≤ng Tr·ªëng</h1>

    <h2>FN_TIMPHONGTRONGTHEOLOAI ‚Äì L·ªçc ph√≤ng kh·∫£ d·ª•ng</h2>

    <div class="section">
        <h3>üìå M·ª•c ƒë√≠ch</h3>
        <p>Function tr·∫£ v·ªÅ <strong>danh s√°ch c√°c ph√≤ng</strong> thu·ªôc m·ªôt lo·∫°i c·ª• th·ªÉ:</p>
        <ul>
            <li>ƒêang tr·ªëng (Available) trong kho·∫£ng th·ªùi gian kh√°ch y√™u c·∫ßu.</li>
            <li>T·ª± ƒë·ªông lo·∫°i b·ªè c√°c ph√≤ng ƒë√£ c√≥ l·ªãch tr√πng.</li>
            <li>B·ªè qua c√°c ƒë∆°n ƒë·∫∑t ph√≤ng ƒë√£ b·ªã H·ªßy (Cancelled) ho·∫∑c Ho√†n ti·ªÅn.</li>
        </ul>
    </div>

    <hr>

    <div class="section">
        <h3>üì• Tham s·ªë</h3>
        <table>
            <thead>
                <tr>
                    <th>T√™n</th>
                    <th>Ki·ªÉu</th>
                    <th>M√¥ t·∫£</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>@LoaiPhongID</code></td>
                    <td>INT</td>
                    <td>Lo·∫°i ph√≤ng kh√°ch mu·ªën t√¨m (VD: Ph√≤ng ƒê∆°n)</td>
                </tr>
                <tr>
                    <td><code>@CheckIn</code></td>
                    <td>DATETIME</td>
                    <td>Ng√†y ƒë·∫øn d·ª± ki·∫øn</td>
                </tr>
                <tr>
                    <td><code>@CheckOut</code></td>
                    <td>DATETIME</td>
                    <td>Ng√†y ƒëi d·ª± ki·∫øn</td>
                </tr>
            </tbody>
        </table>
    </div>

    <hr>

    <div class="section">
        <h3>üì§ Gi√° tr·ªã tr·∫£ v·ªÅ</h3>
        <table>
            <thead>
                <tr>
                    <th>Ki·ªÉu</th>
                    <th>C·∫•u tr√∫c b·∫£ng tr·∫£ v·ªÅ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>TABLE</td>
                    <td>(id INT, so_phong VARCHAR, trang_thai VARCHAR)</td>
                </tr>
            </tbody>
        </table>
    </div>

    <hr>

    <div class="section">
        <h3>üîÑ Logic x·ª≠ l√Ω</h3>
        <div class="flow-step">1. L·∫•y to√†n b·ªô danh s√°ch ph√≤ng thu·ªôc <code>@LoaiPhongID</code>.</div>
        <div class="flow-step">2. T√¨m danh s√°ch c√°c ph√≤ng ƒëang b·∫≠n (tr√πng l·ªãch CheckIn/CheckOut) trong b·∫£ng <code>DATPHONG</code>.</div>
        <div class="flow-step">3. Lo·∫°i tr·ª´: <strong>(Danh s√°ch g·ªëc) - (Danh s√°ch b·∫≠n)</strong>.</div>
        <div class="flow-step">4. Tr·∫£ v·ªÅ b·∫£ng k·∫øt qu·∫£ c√°c ph√≤ng c√≤n l·∫°i.</div>
    </div>

    <hr>

    <div class="section">
        <h3>‚úÖ C√°ch s·ª≠ d·ª•ng</h3>
        <pre><code>-- C√¢u l·ªánh ch·∫°y test
SELECT * FROM dbo.fn_TimPhongTrongTheoLoai(1, '2023-04-04', '2023-04-05');</code></pre>
    </div>
</body>
</html>