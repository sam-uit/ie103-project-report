{
      "id": "sp-checkout",
      "title": "SP: Th·ªß T·ª•c Check-out",
      "type": "Stored Procedure",
      "shortDesc": "Ho√†n t·∫•t ƒë·∫∑t ph√≤ng, tr·∫£ ph√≤ng v√† ghi nh·∫≠n thanh to√°n",
      "mdFile": "StoreProcedure/Demo_Checkout/problem.html",
      "sqlFile": "StoreProcedure/Demo_Checkout/script.sql",
      "separateTables": [
            {
                  "name": "DATPHONG",
                  "label": "üìã ƒê·∫∑t Ph√≤ng",
                  "sqlBefore": "SELECT id, user_id, check_in, check_out, trang_thai FROM DATPHONG WHERE id = @BookingID",
                  "sqlAfter": "SELECT id, user_id, check_in, check_out, trang_thai FROM DATPHONG WHERE id = @BookingID",
                  "sqlFetchInitial": "SELECT TOP 20 id, user_id, check_in, check_out, trang_thai FROM DATPHONG WHERE trang_thai IN ('CONFIRMED', 'PENDING') ORDER BY id DESC",
                  "columns": [
                        {
                              "key": "id",
                              "label": "ID",
                              "isPk": true
                        },
                        {
                              "key": "user_id",
                              "label": "User"
                        },
                        {
                              "key": "check_in",
                              "label": "Check In"
                        },
                        {
                              "key": "check_out",
                              "label": "Check Out"
                        },
                        {
                              "key": "trang_thai",
                              "label": "‚ö° Tr·∫°ng Th√°i"
                        }
                  ]
            },
            {
                  "name": "PAYMENTS",
                  "label": "üí∞ Thanh To√°n",
                  "sqlBefore": "SELECT id, booking_id, so_tien, phuong_thuc, trang_thai FROM PAYMENTS WHERE booking_id = @BookingID",
                  "sqlAfter": "SELECT id, booking_id, so_tien, phuong_thuc, trang_thai FROM PAYMENTS WHERE booking_id = @BookingID",
                  "sqlFetchInitial": "SELECT TOP 20 id, booking_id, so_tien, phuong_thuc, trang_thai FROM PAYMENTS WHERE trang_thai = 'PENDING' ORDER BY id DESC",
                  "columns": [
                        {
                              "key": "id",
                              "label": "ID",
                              "isPk": true
                        },
                        {
                              "key": "booking_id",
                              "label": "Booking ID"
                        },
                        {
                              "key": "so_tien",
                              "label": "S·ªë Ti·ªÅn"
                        },
                        {
                              "key": "phuong_thuc",
                              "label": "‚ö° Ph∆∞∆°ng Th·ª©c"
                        },
                        {
                              "key": "trang_thai",
                              "label": "‚ö° Tr·∫°ng Th√°i"
                        }
                  ]
            },
            {
                  "name": "PHONG",
                  "label": "üö™ Ph√≤ng",
                  "sqlBefore": "SELECT p.id, p.so_phong, p.trang_thai FROM PHONG p JOIN CT_DATPHONG ct ON ct.phong_id = p.id WHERE ct.datphong_id = @BookingID",
                  "sqlAfter": "SELECT p.id, p.so_phong, p.trang_thai FROM PHONG p JOIN CT_DATPHONG ct ON ct.phong_id = p.id WHERE ct.datphong_id = @BookingID",
                  "sqlFetchInitial": "SELECT TOP 20 id, so_phong, trang_thai FROM PHONG ORDER BY id DESC",
                  "columns": [
                        {
                              "key": "id",
                              "label": "ID",
                              "isPk": true
                        },
                        {
                              "key": "so_phong",
                              "label": "S·ªë Ph√≤ng"
                        },
                        {
                              "key": "trang_thai",
                              "label": "‚ö° Tr·∫°ng Th√°i"
                        }
                  ]
            },
            {
                  "name": "CT_DATPHONG",
                  "label": "üìã Chi ti·∫øt ƒê·∫∑t Ph√≤ng",
                  "sqlBefore": "SELECT ct.id, ct.phong_id, ct.datphong_id FROM CT_DATPHONG ct WHERE ct.datphong_id = @BookingID",
                  "sqlAfter": "SELECT ct.id, ct.phong_id, ct.datphong_id FROM CT_DATPHONG ct WHERE ct.datphong_id = @BookingID",
                  "sqlFetchInitial": "SELECT TOP 20 id, phong_id, datphong_id FROM CT_DATPHONG ORDER BY id DESC",
                  "columns": [
                        {
                              "key": "id",
                              "label": "ID",
                              "isPk": true
                        },
                        {
                              "key": "phong_id",
                              "label": "Ph√≤ng ID"
                        },
                        {
                              "key": "datphong_id",
                              "label": "ƒê·∫∑t Ph√≤ng ID"
                        }
                  ]
            }
      ],
      "params": [
            {
                  "name": "@BookingID",
                  "type": "int",
                  "defaultValue": 40
            },
            {
                  "name": "@Method",
                  "type": "string",
                  "defaultValue": "THE"
            }
      ]
}